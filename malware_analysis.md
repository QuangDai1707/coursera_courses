# I. Introduction
## 1. Overview
### 1.1. Malware
- Definition: any software that can cause harm to user, computer or network
- Include:
    - Backdoor: install malicious code on computer and let attacker connect without authentication
    - botnet: same as backdoor, but all infected machines receive the same instruction for single cmd server
    - downloader: download and install other malicious code.
    - information-stealing malware: collect information from victim by sniffer, paswword hash grabber and keylogger
    - launcher: launcher other malicious program.
    - rootkit: hide the existence of other code.
    - scareware: frighten an infected user into buying something
    - spam-sending malware: send spam to infected machine
    - worm or virus: malicious code that can copy itself and infect additional machines
### 1.2. Malware analysis
- Malware analysis: study how malware work, how to identify, defeat or eliminate it
- The purpose: provide information needed for responding to a network intrusion.
- The goal: determine exactly what happened, and ensure to located all infected machines and files. When analyze suspected malware, determine exactly what a particular suspect binary can do, how to detect it on your network, and how to measure and contain its damage.
- Develop signature to detect malware infection on the network.
- Host-based signatures
    - detect malicious code on victim computers
    - include: identify files created or modified by malware or specific changes that it makes to the registry
- Network-based signatures
    - Detect malicious code by monitoring network traffic.
- final objective: figure out exactly how the malware works

### 1.3. General Rules for Malware Analysis
- don’t get too caught up in the details, Focus instead on the key features.
- different tools and approaches are available for different jobs. Try analyzing the malware from a different angle, or just try a different approach
- malware always develop, new malware analysis techniques are developed to catch up
# II. Malware Analysis Techniques
## 1. Basic Static Analysis
- examining the executable file without viewing the actual instructions.
1. Using antivirus tools to confirm maliciousness
    - good first step
    - rely on a database of file signature and behavioral and pattern-matching analysis (heuristics)
    - can be bypass by new malware with unknown signature.
2. Using hashes to identify malware
    - run malware through a hashing program (MD5, SHA1) that produces a unique hash
    - Use the hash as a label.
    - Share that hash with other analysts to help them to identify malware.
    - Search for that hash online to see if the file has already been identified.
3. Gleaning information from a file’s strings, functions, and headers
    - string: get hint about the functionality of program such access URL, function name
    - packed and obfuscated malware: packed original executable to make packed file’s strings, imports, and other information are compressed and invisible
4. Portable Executable File Format: 
    - file format is used by Windows executables, object code, and DLLs
    - contains the information necessary for the Windows OS loader to manage the wrapped executable code
    - PE files begin with a header that includes information about the code, the type of application, required library functions, and space requirements.
5. Linked Libraries and Functions
    - Code libraries: contain functionality common to many programs, connecte to the main executable by linking 
    - Static linking: all code from that library is copied into the executable, which makes the executable grow in size. 
    - Runtime linking: executable connect to libraries only when that function is needed, not at program start
    - Dynamic linking: the host OS searches for the necessary libraries when the program is loaded.
    - The PE file header stores information about every library that will be loaded and every function that will be used by the program and functions a file exports.
## 2. Basic Dynamic Analysis 
- running the malware and observing its behavior on the system in order to remove the infection, produce effective signatures, or both.
## 3. Advanced Static Analysis
- reverse-engineering the malware’s internals to get program instructions
## 4. Advanced Dynamic Analysis
- uses a debugger to examine the internal state of a running malicious executable.
# III. Malware functionality

# IV. 
# V. Anti Reverse Engineering
